<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ÙÙƒØ±ØªÙŠ | Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</title>
  <style>
    :root{--brown:#6e4e37;--sand:#c2a782;--light:#faf8f5;--ink:#1e1e1e;--shadow:0 10px 25px rgba(0,0,0,.08);--radius:16px}
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:"Cairo",sans-serif;background:linear-gradient(160deg,#fff,var(--light) 40%,#f4efe9 100%);color:#222;overflow-x:hidden;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}
    a{text-decoration:none;color:inherit}

    /* ===== Header Ù…ÙˆØ­Ù‘Ø¯ (Sticky) ===== */
    header{
      position:sticky; top:0; z-index:100; background:#fff;
      box-shadow:0 3px 10px rgba(0,0,0,.08);
      border-radius:14px;
      margin:10px 12px;
    }
    .nav-container{
      max-width:1200px;margin:auto;padding:12px 25px;
      display:flex;align-items:center;justify-content:space-between;gap:12px
    }
    .main-logo{width:220px;height:auto;transition:.3s;flex:0 0 auto}
    .main-logo:hover{transform:scale(1.05)}
    nav{flex:1 1 auto;min-width:0}
    nav ul{display:flex;gap:28px;list-style:none;align-items:center;justify-content:flex-end}
    nav a{color:var(--brown);font-weight:700;transition:.2s;white-space:nowrap}
    nav a:hover,nav a.active{color:#b17d57}

    /* Ø²Ø± ÙˆØ¯Ø±Ø¬ Ø§Ù„Ø¬ÙˆØ§Ù„ (560pxâ€“860px) */
    #menuToggle{
      display:none;border:1px solid #eadfce;background:#fff;color:#6e4e37;
      padding:8px 12px;border-radius:10px;font-weight:700;cursor:pointer
    }
    @media (max-width:860px){
      #menuToggle{ display:inline-block; margin-inline-start:10px }
      header nav ul{
        position:fixed; inset:64px 0 0 auto; width:88%; max-width:360px; background:#fff;
        box-shadow:0 20px 50px rgba(0,0,0,.18); padding:18px;
        border-top-left-radius:16px; border-bottom-left-radius:16px;
        display:flex; flex-direction:column; gap:14px;
        transform:translateX(110%); transition:transform .25s ease; z-index:9999
      }
      header nav ul.open{ transform:none }
      body.no-scroll{ overflow:hidden }
    }

    /* ===== Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„ÙˆØµÙ ===== */
    .page-title{text-align:center;color:var(--brown);font-size:30px;font-weight:800;margin:60px auto 10px;padding:0 20px}
    .page-sub{color:#555;text-align:center;max-width:760px;margin:0 auto 30px;line-height:1.8;padding:0 20px}

    /* ===== Unified Filter Bar ===== */
    .filter-bar{
      max-width:1200px;margin:0 auto 25px;padding:12px;
      background:#fff;border:1px solid #eadfce;border-radius:18px;box-shadow:var(--shadow)
    }
    .filter-row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .search{flex:1;min-width:220px;padding:12px 14px;border:1px solid #ddd;border-radius:12px;font-size:15px;outline:none;transition:.3s;background:#fff}
    .search:focus{border-color:var(--sand);box-shadow:0 0 0 3px rgba(194,167,130,.25)}
    .sel{padding:12px 14px;border:1px solid #ddd;border-radius:12px;background:#fff}
    .count{margin-inline-start:auto;color:#666;font-size:14px;padding:0 4px}

    .chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .chip{background:#fff;border:1px solid #eadfce;color:var(--brown);border-radius:999px;padding:7px 12px;font-size:13px;cursor:pointer;transition:.25s}
    .chip.active,.chip:hover{background:#f9f3ed}

    /* ===== Grid ===== */
    .grid{
      max-width:1200px;margin:0 auto 100px;
      display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:24px;padding:0 20px
    }
    .card{
      background:#fff;border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden;cursor:pointer;
      opacity:0;transform:translateY(16px);transition:transform .25s ease, box-shadow .25s ease, opacity .8s ease;will-change:transform
    }
    .card.visible{opacity:1;transform:translateY(0)}
    .card:hover{transform:translateY(-6px) rotateX(.6deg) rotateY(-.6deg);box-shadow:0 16px 34px rgba(0,0,0,.12)}
    .no-img,.thumb{width:100%;height:170px;display:flex;align-items:center;justify-content:center}
    .no-img{background:#eee;color:#aaa;font-size:14px}
    .thumb img{width:100%;height:170px;object-fit:cover;display:block}

    .content{padding:16px}
    .content h3{font-size:18px;color:var(--brown);margin-bottom:6px}
    .content p{font-size:14px;color:#444;line-height:1.7;margin-bottom:8px}
    .meta{font-size:13px;color:#666}
    .tag{background:var(--sand);color:#fff;padding:5px 12px;border-radius:50px;font-size:12px;display:inline-block;margin-top:8px}

    /* Rating */
    .rate{display:flex;align-items:center;gap:8px;margin-top:10px}
    .stars{--val:0;position:relative;inline-size:110px;block-size:18px;
      -webkit-mask:linear-gradient(90deg,#000 var(--w,0%),transparent 0),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="110" height="18" viewBox="0 0 110 18"><g fill="%23000"><path d="M9 0l2.2 5h5.3l-4.2 3.1 1.6 5L9 11 4.1 13.1l1.6-5L1.5 5h5.3L9 0z"/><use xlink:href="%23s" x="22"/><use xlink:href="%23s" x="44"/><use xlink:href="%23s" x="66"/><use xlink:href="%23s" x="88"/></g><defs><path id="s" d="M9 0l2.2 5h5.3l-4.2 3.1 1.6 5L9 11 4.1 13.1l1.6-5L1.5 5h5.3L9 0z"/></defs></svg>') no-repeat center/contain;
      background:linear-gradient(90deg,#f1c40f,#f39c12)
    }
    .rate b{font-size:12px;color:#6b6b6b}

    footer{background:#f8f5f2;text-align:center;padding:25px 15px;border-top:1px solid #ddd;color:#5e4b3c;font-size:14px}
    footer strong{color:var(--brown)}

    .reveal{opacity:0;transform:translateY(30px);transition:all .8s ease}
    .reveal.visible{opacity:1;transform:translateY(0)}

    /* ===== ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø´Ø§Ø´Ø§Øª ===== */
    @media (max-width:900px){
      .filter-row{flex-wrap:wrap; gap:8px}
      .search,.sel{flex:1 1 100%}
    }
    @media (max-width:700px){
      .main-logo{width:170px}
      nav ul{gap:16px; flex-wrap:wrap}
      .page-title{font-size:24px; margin:36px auto 8px}
      .page-sub{font-size:14px; margin-bottom:18px}
      .grid{gap:16px}
      .no-img,.thumb{height:150px}
      .content{padding:14px}
      .content h3{font-size:16px}
      .content p{font-size:13px; line-height:1.6}
      .rate{gap:6px}
      .tag{padding:4px 10px; font-size:11px}
    }
    @media (hover:none){ .card:hover{transform:none; box-shadow:var(--shadow)} }
    @media (min-width:701px){ .filter-bar{position:sticky; top:70px; z-index:5} }
    @media (max-width:380px){ .chips{gap:6px} .chip{padding:6px 10px; font-size:12px} }

    /* ===== Mobile header â‰¤560px: Ø´Ø¹Ø§Ø± Ø£ØµØºØ± + ÙƒÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø¨Ø³Ø·Ø± ÙˆØ§Ø­Ø¯ ===== */
    @media (max-width:560px){
      header{ margin:6px }
      .nav-container{ padding:8px 10px; gap:6px; justify-content:space-between }
      .main-logo{ width:clamp(66px,20vw,90px); margin-inline-start:2px }

      /* Ø¹Ø·Ù‘Ù„ Ø§Ù„Ø¯Ø±Ø¬ Ù‡Ù†Ø§ */
      header nav ul{
        position: static !important; inset: auto !important; width: auto !important; max-width: none !important;
        background: transparent !important; box-shadow: none !important; padding: 0 !important; border-radius: 0 !important;
        flex-direction: row !important; transform: none !important;
      }
      #menuToggle{ display:none !important }
      body.no-scroll{ overflow:auto !important }

      nav{ flex:1 1 auto; min-width:0 }
      nav ul{ gap:6px; flex-wrap:nowrap; justify-content:flex-end; overflow:hidden; word-spacing:-2px }
      nav li{ flex:0 0 auto }
      nav a{ font-size:clamp(9.5px,2.35vw,10.5px); font-weight:800; line-height:1; letter-spacing:-.2px }
    }
    @media (max-width:380px){
      nav ul{ gap:4px }
      nav a{ font-size:clamp(9px,2.2vw,10px) }
    }

    /* Ø¶Ù…Ø§Ù† Ù‚ÙŠÙ…Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ø¹Ø±Ø¶ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ù†Ø¬ÙˆÙ… */
    .stars{--w:0%}
  </style>
</head>
<body>

<header>
  <div class="nav-container">
    <a href="index.html"><img src="assets/svg/logo-Kittl.svg" class="main-logo" alt="Ø´Ø¹Ø§Ø± ÙÙƒØ±ØªÙŠ"></a>
    <nav>
      <ul>
        <li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
        <li><a href="projects.html" class="active">Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</a></li>
        <li><a href="inspirers.html">Ø§Ù„Ù…Ù„Ù‡Ù…ÙŠÙ†</a></li>
        <li><a href="services.html">Ø®Ø¯Ù…Ø§ØªÙ†Ø§</a></li>
        <li><a href="about.html">Ù…Ù†&#8239;Ù†Ø­Ù†</a></li>
        <li><a href="contact.html">ØªÙˆØ§ØµÙ„&#8239;Ù…Ø¹Ù†Ø§</a></li>
      </ul>
    </nav>
  </div>
</header>

<h1 class="page-title">Ø´Ø§Ø±Ùƒ Ù…Ø´Ø±ÙˆØ¹ÙƒØŒ Ø§Ø­ÙƒÙ Ù‚ØµØªÙƒØŒ ÙˆØ§Ø¨Ø¯Ø£ Ù…Ù† ÙÙƒØ±ØªÙƒ</h1>

<section class="filter-bar reveal" id="filtersWrap">
  <div class="filter-row">
    <input type="text" id="searchInput" class="search" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø£Ùˆ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©...">
    <select id="typeSelect" class="sel">
      <option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ®ØµØµØ§Øª</option>
      <option value="ØªÙ‚Ù†ÙŠ">ØªÙ‚Ù†ÙŠ</option>
      <option value="Ù‡Ù†Ø¯Ø³ÙŠ">Ù‡Ù†Ø¯Ø³ÙŠ</option>
      <option value="Ø¨ÙŠØ¦ÙŠ">Ø¨ÙŠØ¦ÙŠ</option>
      <option value="ØµØ­ÙŠ">ØµØ­ÙŠ</option>
      <option value="Ø§Ù‚ØªØµØ§Ø¯ÙŠ">Ø§Ù‚ØªØµØ§Ø¯ÙŠ</option>
      <option value="Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ">Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</option>
      <option value="Ù…Ù†ØµØ§Øª Ø±Ù‚Ù…ÙŠØ©">Ù…Ù†ØµØ§Øª Ø±Ù‚Ù…ÙŠØ©</option>
    </select>
    <select id="yearSelect" class="sel">
      <option value="all">ÙƒÙ„ Ø§Ù„Ø³Ù†ÙˆØ§Øª</option>
      <option>2025</option><option>2024</option><option>2023</option><option>2022</option>
    </select>
    <select id="rateMin" class="sel" title="Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„ØªÙ‚ÙŠÙŠÙ…">
      <option value="0">Ø§Ù„ÙƒÙ„ (Ø£ÙŠ ØªÙ‚ÙŠÙŠÙ…)</option>
      <option value="5">5.0+ â­</option>
      <option value="4.5">4.5+ â­</option>
      <option value="4">4.0+ â­</option>
      <option value="3.5">3.5+ â­</option>
    </select>
    <select id="sortBy" class="sel" title="ØªØ±ØªÙŠØ¨">
      <option value="recent">Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹</option>
      <option value="rating">Ø§Ù„Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹</option>
      <option value="name">Ø£Ø¨Ø¬Ø¯ÙŠØ§Ù‹</option>
    </select>
    <div class="count" id="countLabel">â€” Ù…Ø´Ø±ÙˆØ¹</div>
  </div>
  <div class="chips" id="quickChips">
    <span class="chip" data-chip="developable">Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ·ÙˆÙŠØ±</span>
    <span class="chip" data-chip="completed">Ù…ÙƒØªÙ…Ù„</span>
  </div>
</section>

<section class="grid" id="projectsGrid"></section>

<footer>
  <p>Â© 2025 Ù…Ù†ØµØ© <strong>ÙÙƒØ±ØªÙŠ</strong> â€” ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© <strong>Ù…. Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø£ÙŠÙ…Ù† Ø§Ù„ÙŠÙˆØ¨ÙŠ</strong></p>
</footer>

<script>
/* ===== Ø²Ø± ÙˆÙ‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬ÙˆØ§Ù„ (Ø§Ù„Ù€CSS ÙŠØªØ­ÙƒÙ… Ø¨Ø§Ù„ØªØµØ±Ù‘Ù Ø­Ø³Ø¨ Ø§Ù„Ù…Ù‚Ø§Ø³) ===== */
(function(){
  var header = document.querySelector('header .nav-container');
  var list   = document.querySelector('header nav ul');
  if(header && list && !document.getElementById('menuToggle')){
    var btn = document.createElement('button');
    btn.id='menuToggle'; btn.type='button'; btn.textContent='Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©';
    var logo = header.querySelector('.main-logo');
    if(logo && logo.parentNode===header){ header.insertBefore(btn, logo.nextSibling); }
    else{ header.insertBefore(btn, header.firstChild); }

    btn.addEventListener('click', function(){
      list.classList.toggle('open');
      document.body.classList.toggle('no-scroll', list.classList.contains('open'));
    });
    list.querySelectorAll('a').forEach(function(a){
      a.addEventListener('click', function(){
        list.classList.remove('open');
        document.body.classList.remove('no-scroll');
      });
    });
    document.addEventListener('keydown', function(e){
      if(e.key==='Escape'){ list.classList.remove('open'); document.body.classList.remove('no-scroll'); }
    });
    document.addEventListener('click', function(e){
      if(!header.contains(e.target)){ list.classList.remove('open'); document.body.classList.remove('no-scroll'); }
    });
  }
})();

/* ===== Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ ===== */
const projects = [
  {id:"smart-parking", name:"Ù†Ø¸Ø§Ù… Ø°ÙƒÙŠ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ù‚Ù", type:"ØªÙ‚Ù†ÙŠ", year:2024, supervisor:"Ø¯. Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ù…Ø²Ø±ÙˆØ¹ÙŠ", desc:"Ù…Ø´Ø±ÙˆØ¹ ÙŠØ³ØªØ®Ø¯Ù… Ø­Ø³Ø§Ø³Ø§Øª ÙˆÙƒØ§Ù…ÙŠØ±Ø§Øª Ù„Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ§Ù‚Ù Ø§Ù„Ø´Ø§ØºØ±Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø­Ø±Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ.", members:["Ø®Ø§Ù„Ø¯ Ø§Ù„Ø¬Ø§Ø³Ø±","Ù†ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ù…ÙŠ"], developable:true, rating:4.7, img:"https://images.unsplash.com/photo-1503736334956-4c8f8e92946d"},
  {id:"pipe-robot", name:"Ø±ÙˆØ¨ÙˆØª ÙØ­Øµ Ø§Ù„Ø£Ù†Ø§Ø¨ÙŠØ¨ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©", type:"Ù‡Ù†Ø¯Ø³ÙŠ", year:2023, supervisor:"à¦¦. Ù…Ø§Ø²Ù† Ø¨Ø®Ø§Ø±ÙŠ".replace("à¦¦","Ø¯"), desc:"Ø±ÙˆØ¨ÙˆØª Ù…Ø®ØµØµ Ù„ØªÙÙ‚Ø¯ Ø£Ù†Ø§Ø¨ÙŠØ¨ Ø§Ù„Ù…ØµØ§Ù†Ø¹ ÙˆØ§ÙƒØªØ´Ø§Ù Ø§Ù„ØªØ³Ø±Ø¨Ø§Øª Ø¨Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©.", members:["Ù…Ø­Ù…Ø¯ Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ","ÙÙ‡Ø¯ Ø¹Ø³ÙŠØ±ÙŠ"], developable:false, rating:4.1, img:""},
  {id:"smart-farm", name:"Ù†Ø¸Ø§Ù… Ø§Ù„Ø²Ø±Ø§Ø¹Ø© Ø§Ù„Ø°ÙƒÙŠ", type:"Ø¨ÙŠØ¦ÙŠ", year:2025, supervisor:"Ø¯. ÙŠÙˆØ³Ù Ø§Ù„ÙÙŠÙÙŠ", desc:"ØªØ­ÙƒÙ… Ø°ÙƒÙŠ Ø¨Ù…Ø¹Ø¯Ù„Ø§Øª Ø§Ù„Ø±ÙŠ Ø§Ø³ØªÙ†Ø§Ø¯Ù‹Ø§ Ø¥Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù‚Ø³ ÙˆØ§Ù„Ø±Ø·ÙˆØ¨Ø©.", members:["Ø±ÙŠÙ… Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ","ÙÙŠØµÙ„ Ø§Ù„Ø±Ø´ÙŠØ¯"], developable:true, rating:4.8, img:""},
  {id:"medical-ai", name:"ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø´Ø¹Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ", type:"ØµØ­ÙŠ", year:2023, supervisor:"Ø¯. Ø¨Ù†Ø¯Ø± Ø§Ù„Ø³Ù„Ù…ÙŠ", desc:"Ù†Ù…ÙˆØ°Ø¬ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙŠØ³Ø§Ù‡Ù… ÙÙŠ ØªØ³Ø±ÙŠØ¹ ØªØ´Ø®ÙŠØµ Ø£Ù…Ø±Ø§Ø¶ Ø§Ù„ØµØ¯Ø±.", members:["Ø£Ø­Ù…Ø¯ Ø§Ù„Ø­Ø±Ø¨ÙŠ","Ù†ÙˆØ±Ø© Ø§Ù„Ù‚Ø­Ø·Ø§Ù†ÙŠ"], developable:false, rating:4.3, img:""},
  {id:"market-ai", name:"ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø³ÙˆØ§Ù‚ Ø§Ù„Ø°ÙƒÙŠ", type:"Ø§Ù‚ØªØµØ§Ø¯ÙŠ", year:2024, supervisor:"Ø¯. Ø®Ø§Ù„Ø¯ Ø§Ù„Ø­Ø±Ø¨ÙŠ", desc:"Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© ØªØªÙ†Ø¨Ø£ Ø¨Ø§Ù„Ø§ØªØ¬Ø§Ù‡Ø§Øª Ø§Ù„Ø³ÙˆÙ‚ÙŠØ© Ø§Ø³ØªÙ†Ø§Ø¯Ø§Ù‹ Ø¥Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¯Ø§ÙˆÙ„.", members:["ÙÙŠØµÙ„ Ø§Ù„Ø±Ø´ÙŠØ¯","Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø­Ø³Ù†"], developable:true, rating:4.6, img:"https://images.unsplash.com/photo-1591696205602-2f950c417cb9"},
  {id:"volunteer-app", name:"ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ·ÙˆØ¹ Ø§Ù„Ø°ÙƒÙŠ", type:"Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ", year:2022, supervisor:"Ø¯. Ù…Ù†Ù‰ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ", desc:"ØªØ·Ø¨ÙŠÙ‚ ÙŠØ±Ø¨Ø· Ø§Ù„Ù…ØªØ·ÙˆØ¹ÙŠÙ† Ø¨Ø§Ù„Ø¬Ù‡Ø§Øª Ø§Ù„Ø®ÙŠØ±ÙŠØ© ÙˆÙŠÙˆÙØ± Ù†Ø¸Ø§Ù… Ù†Ù‚Ø§Ø· ØªØ­ÙÙŠØ²ÙŠ.", members:["Ø±Ù‡Ù Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ","Ø³Ù„Ù…Ø§Ù† Ø§Ù„Ø­Ø±Ø¨ÙŠ"], developable:false, rating:3.9, img:"https://images.unsplash.com/photo-1556740749-887f6717d7e4"},
  {id:"campus-platform", name:"Ù…Ù†ØµØ© Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ù…ÙˆØ­Ù‘Ø¯Ø©", type:"Ù…Ù†ØµØ§Øª Ø±Ù‚Ù…ÙŠØ©", year:2025, supervisor:"Ø¯. Ø·Ø§Ø±Ù‚ Ø§Ù„Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡", desc:"Ù…Ù†ØµØ© ØªØ¬Ù…Ø¹ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© ÙˆØ§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠØ© ÙÙŠ ÙˆØ§Ø¬Ù‡Ø© ÙˆØ§Ø­Ø¯Ø©.", members:["Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø¹ÙˆÙÙŠ","Ø³Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ø±ÙŠ"], developable:true, rating:4.9, img:"https://images.unsplash.com/photo-1593642532744-d377ab507dc8"},
  {id:"air-purifier", name:"Ø¬Ù‡Ø§Ø² ØªÙ†Ù‚ÙŠØ© Ù‡ÙˆØ§Ø¡ Ù…ØªÙ†Ù‚Ù„", type:"Ù‡Ù†Ø¯Ø³ÙŠ", year:2023, supervisor:"Ø¯. Ø­Ù…Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ", desc:"Ø§Ø¨ØªÙƒØ§Ø± Ù‡Ù†Ø¯Ø³ÙŠ Ù„ØªÙ†Ù‚ÙŠØ© Ø§Ù„Ù‡ÙˆØ§Ø¡ Ù…Ù† Ø§Ù„Ù…Ù„ÙˆØ«Ø§Øª Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø©.", members:["Ø³Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ø±ÙŠ","Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„Ø´Ù‡Ø±ÙŠ"], developable:false, rating:4.0, img:""},
  {id:"eco-energy", name:"Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ù†Ø²Ù„ÙŠØ©", type:"Ø¨ÙŠØ¦ÙŠ", year:2024, supervisor:"Ø¯. Ù„ÙŠÙ„Ù‰ Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ", desc:"Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø°ÙƒÙŠØ© Ù„ØªØ±Ø´ÙŠØ¯ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡ Ø¹Ø¨Ø± Ù…Ø±Ø§Ù‚Ø¨Ø© ÙÙˆØ±ÙŠØ© Ù„Ù„Ø£Ø¬Ù‡Ø²Ø©.", members:["Ù…Ø´Ø¹Ù„ Ø§Ù„Ù‚Ø±Ù†ÙŠ","ÙØ§Ø·Ù…Ø© Ø§Ù„ØºØ§Ù…Ø¯ÙŠ"], developable:true, rating:4.4, img:"https://images.unsplash.com/photo-1509395176047-4a66953fd231"},
  {id:"assist-ai", name:"Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ Ø§Ù„Ø°ÙƒÙŠ", type:"ØªÙ‚Ù†ÙŠ", year:2025, supervisor:"Ø¯. Ù‡Ù†Ø¯ Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ", desc:"Ø±ÙˆØ¨ÙˆØª Ù…Ø­Ø§Ø¯Ø«Ø© ÙŠØ³Ø§Ø¹Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨ ÙÙŠ ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹.", members:["Ù…Ù‡Ø§ Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ","Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø³Ø¨ÙŠØ¹ÙŠ"], developable:true, rating:4.6, img:"https://images.unsplash.com/photo-1504384308090-c894fdcc538d"},
  {id:"heritage-map", name:"Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªØ±Ø§Ø«ÙŠØ©", type:"Ù…Ù†ØµØ§Øª Ø±Ù‚Ù…ÙŠØ©", year:2022, supervisor:"Ø¯. ÙÙ‡Ø¯ Ø§Ù„Ø­Ø§Ø²Ù…ÙŠ", desc:"Ù…Ù†ØµØ© ØªÙØ§Ø¹Ù„ÙŠØ© ØªÙˆØ«Ù‚ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªØ±Ø§Ø«ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ù…Ù„ÙƒØ©.", members:["Ø£Ø­Ù…Ø¯ Ø§Ù„Ù‚Ø§Ø¶ÙŠ","Ø±Ù‡Ù Ø§Ù„ØµØ§Ø¹Ø¯ÙŠ"], developable:false, rating:3.7, img:""},
  {id:"health-station", name:"Ù†Ù‚Ø·Ø© ÙØ­Øµ ØµØ­ÙŠØ© Ù…ØªÙ†Ù‚Ù„Ø©", type:"ØµØ­ÙŠ", year:2024, supervisor:"Ø¯. Ø±Ø§Ù†ÙŠØ§ Ø¨Ø®ÙŠØª", desc:"ÙƒØ´Ùƒ ØµØ­ÙŠ Ù…Ø¬Ù‡Ø² Ø¨Ø£Ø¬Ù‡Ø²Ø© Ù„Ù‚ÙŠØ§Ø³ Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø­ÙŠÙˆÙŠØ©.", members:["Ø³Ù„Ù…Ø§Ù† Ø§Ù„Ù‚Ø­Ø·Ø§Ù†ÙŠ","Ø¢ÙŠØ© Ø§Ù„Ø£Ù†ØµØ§Ø±ÙŠ"], developable:true, rating:4.2, img:"https://images.unsplash.com/photo-1629909613654-28e377c37a9d"}
];

/* ===== Ø¹Ù†Ø§ØµØ± ===== */
const grid = document.getElementById("projectsGrid");
const searchInput = document.getElementById("searchInput");
const typeSelect = document.getElementById("typeSelect");
const yearSelect = document.getElementById("yearSelect");
const rateMin = document.getElementById("rateMin");
const sortBy = document.getElementById("sortBy");
const chips = document.getElementById("quickChips");
const countLabel = document.getElementById("countLabel");

/* ===== Reveal ===== */
const onReveal = () => {
  document.querySelectorAll('.reveal, .card').forEach(el=>{
    const r = el.getBoundingClientRect();
    if(r.top < innerHeight - 100) el.classList.add('visible');
  });
};
addEventListener('scroll', onReveal);
addEventListener('load', onReveal);

/* ===== Debounce ===== */
let t; const debounce = (fn,d=200)=> (...a)=>{ clearTimeout(t); t=setTimeout(()=>fn(...a), d); };

/* ===== Ù†Ø¬ÙˆÙ… Ø§Ù„ØªÙ‚ÙŠÙŠÙ… ===== */
function starWidth(r){ const pct=Math.max(0,Math.min(5,r||0))/5*100; return pct.toFixed(1)+'%'; }

/* ===== ÙƒØ§Ø±Øª Ù…Ø´Ø±ÙˆØ¹ ===== */
function createCard(p){
  const card = document.createElement("article");
  card.className = "card";
  card.onclick = () => {
    localStorage.setItem("selectedProject", JSON.stringify({
      title:p.name, desc:p.desc, supervisor:p.supervisor, members:p.members.join("ØŒ "),
      year:p.year, status:p.developable ? "Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ·ÙˆÙŠØ±" : "Ù…ÙƒØªÙ…Ù„",
      award:p.award||"â€”", upgradeable:!!p.developable, img:p.img
    }));
    location.href = "project.html";
  };
  const imgPart = p.img && p.img.trim()!=="" ? `<div class="thumb"><img data-src="${p.img}" alt="${p.name}" loading="lazy"></div>` : `<div class="no-img">Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ±Ø©</div>`;
  card.innerHTML = `
    ${imgPart}
    <div class="content">
      <h3>${p.name}</h3>
      <p>${p.desc}</p>
      <div class="meta">ğŸ‘¥ ${p.members.join("ØŒ ")}<br>ğŸ“… ${p.year} â€¢ ${p.supervisor}</div>
      <div class="rate">
        <span class="stars" style="--w:${starWidth(p.rating)}"></span>
        <b>${(p.rating ?? 0).toFixed(1)}</b>
        <span class="tag">${p.developable ? "Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ·ÙˆÙŠØ±" : "Ù…ÙƒØªÙ…Ù„"}</span>
      </div>
    </div>`;
  return card;
}

/* ===== Ø¹Ø¯Ù‘Ø§Ø¯ ===== */
function updateCount(n){
  countLabel.textContent = n===0 ? "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬" : `${n.toLocaleString('ar')} Ù…Ø´Ø±ÙˆØ¹`;
}

/* ===== Chips ===== */
let chipState = { developable:false, completed:false };

/* ===== ÙÙ„ØªØ±Ø© ÙˆØªØ±ØªÙŠØ¨ ===== */
function applyFilters(){
  const term = (searchInput.value||"").toLowerCase().trim();
  const t = typeSelect.value;
  const y = yearSelect.value;
  const rMin = parseFloat(rateMin.value);

  let list = projects
    .filter(p => (t==="all" || p.type===t))
    .filter(p => (y==="all" || String(p.year)===y))
    .filter(p => (p.rating??0) >= rMin)
    .filter(p => {
      if(!term) return true;
      return p.name.toLowerCase().includes(term)
          || p.desc.toLowerCase().includes(term)
          || (p.supervisor||"").toLowerCase().includes(term)
          || p.members.join(" ").toLowerCase().includes(term);
    });

  if(chipState.developable) list = list.filter(p=>p.developable===true);
  if(chipState.completed)   list = list.filter(p=>p.developable===false);

  if(sortBy.value==='recent'){ list.sort((a,b)=> b.year - a.year || (b.rating??0)-(a.rating??0)); }
  else if(sortBy.value==='rating'){ list.sort((a,b)=> (b.rating??0)-(a.rating??0) || b.year - a.year); }
  else if(sortBy.value==='name'){ list.sort((a,b)=> a.name.localeCompare(b.name,'ar')); }

  grid.innerHTML = "";
  list.forEach((p,i)=>{
    const card = createCard(p);
    grid.appendChild(card);
    setTimeout(()=>card.classList.add('visible'), 50+i*30);
  });
  updateCount(list.length);
  lazyLoadImages();
  onReveal();
}

/* ===== Lazy load ===== */
let io;
function lazyLoadImages(){
  if(io) io.disconnect();
  const imgs = grid.querySelectorAll('img[data-src]');
  io = new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting){
        const img = entry.target;
        img.src = img.dataset.src;
        img.removeAttribute('data-src');
        io.unobserve(img);
      }
    });
  },{rootMargin:"200px"});
  imgs.forEach(img=>io.observe(img));
}

/* ===== ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø´ÙŠØ¨Ø³ ===== */
document.getElementById('quickChips').addEventListener('click',(e)=>{
  const el = e.target.closest('.chip'); if(!el) return;
  const k = el.dataset.chip;
  if(k==='developable'){ chipState.developable=!chipState.developable; el.classList.toggle('active'); }
  if(k==='completed'){   chipState.completed=!chipState.completed;   el.classList.toggle('active'); }
  applyFilters();
});

/* ===== Ø§Ø³ØªÙ…Ø§Ø¹ ===== */
searchInput.addEventListener("input", debounce(applyFilters));
[typeSelect,yearSelect,rateMin,sortBy].forEach(el=> el.addEventListener("change", applyFilters));

/* ===== Ø¨Ø¯Ø¡ ===== */
window.addEventListener('load', ()=>{
  document.getElementById('filtersWrap').classList.add('visible');
  applyFilters();
  onReveal();
});
</script>

<!-- Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø«ÙŠØ± Ø§Ù„Ø±ÙØ¹ Ø¨Ø§Ù„Ù‡ÙˆÙØ± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù„Ù…Ø³ÙŠØ© ÙÙ‚Ø· -->
<script>
(function(){
  const isTouch = matchMedia('(hover:none)').matches;
  if(isTouch){
    document.addEventListener('pointerover', e=>{
      const card = e.target.closest('.card');
      if(card) card.style.transform = 'none';
    }, {passive:true});
  }
})();
</script>

</body>
</html>
