<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ÙÙƒØ±ØªÙŠ | Ø®Ø¯Ù…Ø§ØªÙ†Ø§</title>
  <style>
    :root{
      --brown:#6e4e37; --sand:#c2a782; --light:#faf8f5; --ink:#1e1e1e;
      --radius:18px; --shadow:0 10px 25px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:"Cairo",sans-serif;background:linear-gradient(160deg,#fff,var(--light) 40%,#f4efe9 100%);color:var(--ink);overflow-x:hidden;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}
    a{color:inherit;text-decoration:none}

    /* ===== ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù‚ÙØ² Ù„Ù„Ù…Ø±Ø³Ø§Ø© Ù…Ø¹ Ù‡ÙŠØ¯Ø± Ø«Ø§Ø¨Øª ===== */
    html{scroll-behavior:smooth}
    #who,#how,#features{scroll-margin-top:96px}

    /* ===== Header Ù…ÙˆØ­Ù‘Ø¯ (Sticky) ===== */
    header{
      position:sticky; top:0; z-index:100; background:#fff;
      box-shadow:0 3px 10px rgba(0,0,0,.08);
      border-radius:14px; margin:10px 12px;
    }
    .nav-container{
      max-width:1200px;margin:auto;padding:12px 25px;
      display:flex;align-items:center;justify-content:space-between;gap:12px
    }
    .main-logo{width:220px;height:auto;transition:.3s;flex:0 0 auto}
    .main-logo:hover{transform:scale(1.05)}
    nav{flex:1 1 auto;min-width:0}
    nav ul{display:flex;gap:28px;list-style:none;align-items:center;justify-content:flex-end}
    nav a{color:var(--brown);font-weight:800;transition:.25s;white-space:nowrap}
    nav a:hover,nav a.active{color:#b17d57}

    /* Ø²Ø± ÙˆØ¯Ø±Ø¬ Ø§Ù„Ø¬ÙˆØ§Ù„ (560pxâ€“860px) */
    #menuToggle{
      display:none;border:1px solid #eadfce;background:#fff;color:#6e4e37;
      padding:8px 12px;border-radius:10px;font-weight:800;cursor:pointer
    }
    @media (max-width:860px){
      #menuToggle{ display:inline-block; margin-inline-start:10px }
      header nav ul{
        position:fixed; inset:64px 0 0 auto; width:88%; max-width:360px; background:#fff;
        box-shadow:0 20px 50px rgba(0,0,0,.18); padding:18px;
        border-top-left-radius:16px; border-bottom-left-radius:16px;
        display:flex; flex-direction:column; gap:14px;
        transform:translateX(110%); transition:transform .25s ease; z-index:9999
      }
      header nav ul.open{ transform:none }
      body.no-scroll{ overflow:hidden }
    }

    /* ===== Hero ===== */
    .hero{
      background:
        radial-gradient(900px 280px at 50% -30%, rgba(255,255,255,.25), transparent),
        linear-gradient(100deg, var(--brown), var(--sand));
      color:#fff; padding:72px 20px 64px; text-align:center; box-shadow:var(--shadow)
    }
    .hero .wrap{max-width:1100px;margin:auto}
    .hero h1{font-size:clamp(30px,5.5vw,56px);letter-spacing:.2px;text-shadow:0 8px 22px rgba(0,0,0,.18)}
    .hero p{opacity:.95;margin-top:10px;font-size:clamp(14px,1.9vw,18px)}
    .hero .cta-row{display:flex;gap:12px;margin-top:20px;justify-content:center;flex-wrap:wrap}
    .btn{border:1px solid rgba(255,255,255,.5);color:#fff;background:transparent;padding:12px 18px;border-radius:999px;font-weight:800;cursor:pointer;transition:.25s}
    .btn:hover{background:rgba(255,255,255,.14)}
    .btn.solid{background:#ffffff;color:#5b3d2d;border-color:#fff}
    .btn.solid:hover{filter:brightness(.95)}

    /* ===== Sections common ===== */
    .section{max-width:1200px;margin:60px auto;padding:0 22px}
    .sec-head{text-align:center;margin-bottom:24px}
    .sec-head h2{color:var(--brown);font-size:28px;margin-bottom:6px}
    .sec-head p{color:#555}

    /* ===== Feature Grid ===== */
    .features{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px}
    .feature{background:#fff;border-radius:var(--radius);box-shadow:var(--shadow);padding:22px;position:relative;overflow:hidden;transform:translateY(10px);opacity:0}
    .feature:before{content:"";position:absolute;inset:auto -30% 0 -30%;height:80px;background:linear-gradient(90deg,#f6efe7,transparent,#f6efe7);transform:skewY(-8deg);opacity:.4}
    .f-icon{width:52px;height:52px;border-radius:14px;display:grid;place-items:center;margin-bottom:10px;background:#f3ede6;color:var(--brown);font-size:26px}
    .feature h3{color:var(--brown);font-size:18px;margin-bottom:8px}
    .feature p{color:#444;line-height:1.85;font-size:15px}

    /* ===== Use cases ===== */
    .persona-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px}
    .persona{background:#fff;border-radius:var(--radius);box-shadow:var(--shadow);padding:22px;transform:translateY(10px);opacity:0}
    .persona h4{color:var(--brown);margin-bottom:8px}
    .persona ul{color:#444;line-height:1.9;padding-right:18px}
    .persona li{margin-bottom:6px}

    /* ===== Timeline ===== */
    .timeline{position:relative;padding:10px 0 10px 0}
    .timeline:before{content:"";position:absolute;right:calc(50% - 1px);top:0;bottom:0;width:2px;background:#eadfce}
    .step{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin:18px 0;align-items:center;position:relative}
    .step .box{background:#fff;border-radius:16px;box-shadow:var(--shadow);padding:18px;transform:translateY(10px);opacity:0}
    .step .dot{position:absolute;right:calc(50% - 7px);width:14px;height:14px;border-radius:50%;background:var(--sand);box-shadow:0 0 0 6px #f6efe8}

    /* ===== FAQ (Ø¥Ù† ÙˆØ¬Ø¯Øª) ===== */
    details{background:#fff;border-radius:14px;box-shadow:var(--shadow);padding:14px 16px;margin-bottom:10px;transform:translateY(10px);opacity:0}
    summary{cursor:pointer;font-weight:800;color:var(--brown);outline:none}
    details p{color:#444;margin-top:10px;line-height:1.9}

    /* ===== CTA Banner ===== */
    .cta{background:linear-gradient(100deg, var(--brown), var(--sand));color:#fff;border-radius:20px;box-shadow:var(--shadow);padding:28px 24px;display:flex;justify-content:space-between;align-items:center;gap:16px;flex-wrap:wrap}
    .cta h3{font-size:20px}
    .cta .cta-actions{display:flex;gap:10px}
    .cta .cta-btn{background:#fff;color:#5b3d2d;border:none;border-radius:999px;padding:10px 16px;font-weight:800;cursor:pointer}
    .cta .cta-btn.alt{background:transparent;border:1px solid rgba(255,255,255,.7);color:#fff}

    /* ===== Footer ===== */
    footer{background:#f8f5f2;text-align:center;padding:25px 15px;border-top:1px solid #ddd;color:#5e4b3c;font-size:14px;margin-top:70px}
    footer strong{color:var(--brown)}

    /* ===== Reveal Animations ===== */
    .reveal{transition:600ms ease;will-change:transform,opacity}
    .in{transform:none !important;opacity:1 !important}

    @media(max-width:900px){
      .step{grid-template-columns:1fr}
      .timeline:before{right:8px}
      .step .dot{right:2px}
    }

    /* ===== Mobile header â‰¤560px: Ø´Ø¹Ø§Ø± Ø£ØµØºØ± + ÙƒÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø¨Ø³Ø·Ø± ÙˆØ§Ø­Ø¯ ===== */
    @media (max-width:560px){
      header{ margin:6px }
      .nav-container{ padding:8px 10px; gap:6px; justify-content:space-between }
      .main-logo{ width:clamp(66px,20vw,90px); margin-inline-start:2px }

      /* Ø¹Ø·Ù‘Ù„ Ø§Ù„Ø¯Ø±Ø¬ Ù‡Ù†Ø§ */
      header nav ul{
        position: static !important; inset: auto !important; width: auto !important; max-width: none !important;
        background: transparent !important; box-shadow: none !important; padding: 0 !important; border-radius: 0 !important;
        flex-direction: row !important; transform: none !important;
      }
      #menuToggle{ display:none !important }
      body.no-scroll{ overflow:auto !important }

      nav{ flex:1 1 auto; min-width:0 }
      nav ul{ gap:6px; flex-wrap:nowrap; justify-content:flex-end; overflow:hidden; word-spacing:-2px }
      nav li{ flex:0 0 auto }
      nav a{ font-size:clamp(9.5px,2.35vw,10.5px); font-weight:800; line-height:1; letter-spacing:-.2px }
    }
    @media (max-width:380px){
      nav ul{ gap:4px }
      nav a{ font-size:clamp(9px,2.2vw,10px) }
    }
  </style>
</head>
<body>

<!-- ===== Header ===== -->
<header>
  <div class="nav-container">
    <a href="index.html"><img src="assets/svg/logo-Kittl.svg" class="main-logo" alt="Ø´Ø¹Ø§Ø± ÙÙƒØ±ØªÙŠ" /></a>
    <nav>
      <ul>
        <li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
        <li><a href="projects.html">Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</a></li>
        <li><a href="inspirers.html">Ø§Ù„Ù…Ù„Ù‡Ù…ÙŠÙ†</a></li>
        <li><a href="services.html" class="active">Ø®Ø¯Ù…Ø§ØªÙ†Ø§</a></li>
        <li><a href="about.html">Ù…Ù†&#8239;Ù†Ø­Ù†</a></li>
        <li><a href="contact.html">ØªÙˆØ§ØµÙ„&#8239;Ù…Ø¹Ù†Ø§</a></li>
      </ul>
    </nav>
  </div>
</header>

<!-- ===== Hero ===== -->
<section class="hero">
  <div class="wrap">
    <h1>Ø®Ø¯Ù…Ø§ØªÙ†Ø§</h1>
    <div class="cta-row">
      <a class="btn solid" href="projects.html">Ø§Ø¨Ø¯Ø£ Ù…Ø´Ø±ÙˆØ¹Ùƒ</a>
      <a class="btn" href="#who">Ù„Ù…Ù† ØµÙÙ…Ù…ØªØŸ</a>
      <a class="btn" href="#how">ÙƒÙŠÙ Ù†Ø¹Ù…Ù„</a>
      <a class="btn" href="contact.html">ØªÙˆØ§ØµÙ„</a>
    </div>
  </div>
</section>

<!-- ===== Ø§Ù„Ù…Ø²Ø§ÙŠØ§ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ===== -->
<section class="section" id="features">
  <div class="sec-head"><h2>Ù…Ø§Ø°Ø§ Ù†Ù‚Ø¯Ù‘Ù…ØŸ</h2></div>
  <div class="features">
    <article class="feature reveal"><div class="f-icon" aria-hidden="true">ğŸ—ºï¸</div><h3>Ø®Ø±Ø§Ø¦Ø· ÙÙƒØ±ØªÙŠ</h3></article>
    <article class="feature reveal"><div class="f-icon" aria-hidden="true">ğŸª</div><h3>Ø§Ù„Ù…Ø¹Ø§Ø±Ø¶ ÙˆØ§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª</h3></article>
    <article class="feature reveal"><div class="f-icon" aria-hidden="true">ğŸ“ˆ</div><h3>ØªÙˆØ¬Ù‘Ù‡ ÙÙƒØ±ØªÙŠ</h3></article>
    <article class="feature reveal"><div class="f-icon" aria-hidden="true">âœ¨</div><h3>Ù„Ù…Ø§Ø°Ø§ ÙÙƒØ±ØªÙŠØŸ</h3></article>
  </div>
</section>

<!-- ===== Ù„Ù…Ù† ØµÙÙ…Ù…ØªØŸ ===== -->
<section class="section" id="who">
  <div class="sec-head"><h2>Ù„Ù…Ù† ØµÙÙ…Ù…ØªØŸ</h2></div>
  <div class="persona-grid">
    <article class="persona reveal">
      <h4>Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ ÙˆØ§Ù„ØªØ®Ø±Ù‘Ø¬</h4>
      <ul>
        <li>Ø¥ÙŠØ¬Ø§Ø¯ Ø£Ø¹Ø¶Ø§Ø¡ Ø¨Ù…Ù‡Ø§Ø±Ø§Øª Ù…ÙƒÙ…Ù„Ø© Ø¨Ø³Ø±Ø¹Ø©.</li>
        <li>ØªÙˆØ«ÙŠÙ‚ ØªÙ‚Ø¯Ù‘Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙˆØªØ­Ø¶ÙŠØ± Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ.</li>
        <li>Ø¨Ù†Ø§Ø¡ Ù…Ù„Ù Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ù‚Ø§Ø¨Ù„ Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©.</li>
      </ul>
    </article>
    <article class="persona reveal">
      <h4>Ø§Ù„Ù…Ø´Ø±ÙÙˆÙ† ÙˆØ§Ù„Ø£Ù‚Ø³Ø§Ù…</h4>
      <ul>
        <li>Ø±Ø¤ÙŠØ© ÙˆØ§Ø¶Ø­Ø© Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„ØªÙ†ÙÙŠØ° ÙˆØ§Ù„ÙØ±Ù‚.</li>
        <li>Ø±Ø¨Ø· Ø§Ù„ÙØ±Øµ ÙˆØ§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª Ù…Ø¹ Ù…Ø®Ø±Ø¬Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨.</li>
        <li>Ø±ÙØ¹ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ØªØ´ØªÙ‘Øª.</li>
      </ul>
    </article>
    <article class="persona reveal">
      <h4>Ø§Ù„Ø£Ù†Ø¯ÙŠØ© ÙˆØ§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠØ©</h4>
      <ul>
        <li>Ù†Ø´Ø± ÙØ¹Ø§Ù„ÙŠØ§Øª Ø¨Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø© ÙˆØ­Ø¶ÙˆØ± Ù…ÙˆØ«Ù‘Ù‚.</li>
        <li>Ø§Ø³ØªÙ‚Ø·Ø§Ø¨ Ù…ØªØ·ÙˆØ¹ÙŠÙ† Ù…Ù†Ø§Ø³Ø¨ÙŠÙ† Ù„ÙƒÙ„ Ù†Ø´Ø§Ø·.</li>
        <li>Ø¥Ø¨Ø±Ø§Ø² Ø§Ù„Ø£Ø«Ø± ÙˆØªØ³Ù‡ÙŠÙ„ Ø§Ù„Ø´Ø±Ø§ÙƒØ§Øª.</li>
      </ul>
    </article>
  </div>
</section>

<!-- ===== ÙƒÙŠÙ Ù†Ø¹Ù…Ù„ØŸ ===== -->
<section class="section" id="how">
  <div class="sec-head"><h2>ÙƒÙŠÙ Ù†Ø¹Ù…Ù„ØŸ</h2></div>
  <div class="timeline">
    <div class="step">
      <span class="dot" aria-hidden="true"></span>
      <div class="box reveal"><strong>1) ØªÙ†Ø´Ø± ÙÙƒØ±ØªÙƒ/Ù…Ø´Ø±ÙˆØ¹Ùƒ</strong><br>ØªØ¶ÙŠÙ Ø§Ù„ÙˆØµÙ ÙˆØ§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ÙˆØ§Ù„Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø²Ù…Ù†ÙŠ.</div>
      <div class="box reveal"><strong>2) Ù…Ø·Ø§Ø¨Ù‚Ø© Ø°ÙƒÙŠØ©</strong><br>Ø§Ù‚ØªØ±Ø§Ø­ Ø·Ù„Ø§Ø¨ Ø¨Ù…Ù‡Ø§Ø±Ø§Øª Ù…ÙƒÙ…Ù„Ø© + Ù†Ù…Ø§Ø°Ø¬ Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„ØªÙˆØ§ØµÙ„.</div>
    </div>
    <div class="step">
      <span class="dot" aria-hidden="true"></span>
      <div class="box reveal"><strong>3) Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙ†ÙÙŠØ°</strong><br>Ù„ÙˆØ­Ø© Ù…Ø¨Ø³Ù‘Ø·Ø© Ù„ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ù…Ù‡Ø§Ù… ÙˆÙ…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªÙ‚Ø¯Ù‘Ù… ÙˆØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ù†ØªØ§Ø¦Ø¬.</div>
      <div class="box reveal"><strong>4) Ø¹Ø±Ø¶ ÙˆØªÙˆØ«ÙŠÙ‚</strong><br>Ù…Ù„Ù Ù…Ø´Ø±ÙˆØ¹ Ù‚Ø§Ø¨Ù„ Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ø±Ø¶ØŒ Ù…Ø¹ Ù…Ø±ÙÙ‚Ø§Øª ÙˆØ±ÙˆØ§Ø¨Ø·.</div>
    </div>
  </div>
</section>

<!-- ===== CTA ===== -->
<section class="section">
  <div class="cta reveal">
    <h3>Ø¬Ø§Ù‡Ø² ØªØ¨Ø¯Ø£ØŸ Ø§Ù†Ø´Ø± ÙÙƒØ±ØªÙƒ Ø§Ù„ÙŠÙˆÙ…â€¦ ÙˆØ®Ù„Ù‘Ù†Ø§ Ù†Ø³Ø§Ø¹Ø¯Ùƒ ØªØ¨Ù†ÙŠ ÙØ±ÙŠÙ‚Ùƒ.</h3>
    <div class="cta-actions">
      <a class="cta-btn" href="projects.html">Ø§Ø¨Ø¯Ø£ Ù…Ø´Ø±ÙˆØ¹Ùƒ</a>
      <a class="cta-btn alt" href="contact.html">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a>
    </div>
  </div>
</section>

<!-- ===== Footer ===== -->
<footer>
  <p>Â© 2025 Ù…Ù†ØµØ© <strong>ÙÙƒØ±ØªÙŠ</strong> â€” ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© <strong>Ù…. Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø£ÙŠÙ…Ù† Ø§Ù„ÙŠÙˆØ¨ÙŠ</strong></p>
</footer>

<!-- ===== Header drawer + Reveal + Timeline dots + Anchor offset ===== -->
<script>
/* ===== Ø²Ø± ÙˆÙ‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬ÙˆØ§Ù„ (ÙŠØªÙØ¹Ù‘Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨ÙŠÙ† 560 Ùˆ 860px Ø¹Ø¨Ø± Ø§Ù„Ù€CSS) ===== */
(function(){
  var header = document.querySelector('header .nav-container');
  var list   = document.querySelector('header nav ul');
  if(header && list && !document.getElementById('menuToggle')){
    var btn = document.createElement('button');
    btn.id='menuToggle'; btn.type='button'; btn.textContent='Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©';
    var logo = header.querySelector('.main-logo');
    if(logo && logo.parentNode===header){ header.insertBefore(btn, logo.nextSibling); }
    else{ header.insertBefore(btn, header.firstChild); }

    btn.addEventListener('click', function(){
      list.classList.toggle('open');
      document.body.classList.toggle('no-scroll', list.classList.contains('open'));
    });
    list.querySelectorAll('a').forEach(function(a){
      a.addEventListener('click', function(){
        list.classList.remove('open');
        document.body.classList.remove('no-scroll');
      });
    });
    document.addEventListener('keydown', function(e){
      if(e.key==='Escape'){ list.classList.remove('open'); document.body.classList.remove('no-scroll'); }
    });
    document.addEventListener('click', function(e){
      if(!header.contains(e.target)){ list.classList.remove('open'); document.body.classList.remove('no-scroll'); }
    });
  }
})();

/* ===== Reveal on scroll ===== */
(function(){
  const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  const observe = el=>{
    if(reduce){ el.classList.add('in'); return; }
    const io = new IntersectionObserver(es=>{
      es.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('in'); io.unobserve(e.target);} });
    },{threshold:.12});
    io.observe(el);
  };
  document.querySelectorAll('.feature,.persona,.step .box,details').forEach(el=>{
    el.classList.add('reveal'); observe(el);
  });
})();

/* ===== Timeline dots position ===== */
(function(){
  const steps = document.querySelectorAll('.step');
  steps.forEach(step=>{
    const dot = step.querySelector('.dot');
    const boxes = step.querySelectorAll('.box');
    if(!dot || boxes.length!==2) return;
    const update = ()=>{
      const a = boxes[0].getBoundingClientRect();
      const b = boxes[1].getBoundingClientRect();
      const parentTop = step.getBoundingClientRect().top;
      const mid = ((a.top + a.height/2) + (b.top + b.height/2))/2 - parentTop;
      dot.style.top = Math.max(12, mid - 7) + 'px';
    };
    update(); addEventListener('resize', update); addEventListener('load', update);
    new MutationObserver(update).observe(step,{subtree:true,childList:true,characterData:true});
  });
})();

/* ===== ØªØ¹ÙˆÙŠØ¶ Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø«Ø§Ø¨Øª Ø¹Ù†Ø¯ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ù…Ø±Ø³Ø§Ø© ===== */
(function(){
  const header = document.querySelector('header');
  const reduce = matchMedia('(prefers-reduced-motion: reduce)').matches;
  const getHeaderH = ()=> (header?.offsetHeight || 80) + 12;

  const scrollToId = (id)=>{
    const el = document.getElementById(id);
    if(!el) return;
    const top = el.getBoundingClientRect().top + pageYOffset - getHeaderH();
    scrollTo({ top, behavior: reduce ? 'auto' : 'smooth' });
  };

  document.querySelectorAll('a[href^="#"]').forEach(link=>{
    link.addEventListener('click', e=>{
      const hash = link.getAttribute('href'); const id = hash.slice(1);
      if(!id) return; const target = document.getElementById(id); if(!target) return;
      e.preventDefault(); scrollToId(id); history.pushState(null,'',hash);
    });
  });

  addEventListener('load', ()=>{
    if(location.hash && document.getElementById(location.hash.slice(1))){
      setTimeout(()=>scrollToId(location.hash.slice(1)), 0);
    }
  });
})();
</script>

</body>
</html>
